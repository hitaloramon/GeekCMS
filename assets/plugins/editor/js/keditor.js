/*! KEditor v2.0.0 | Copyright (c) 2016-present Kademi (http://kademi.co) */
!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n(require("jQuery"));else if("function"==typeof define&&define.amd)define(["jQuery"],n);else{var e="object"==typeof exports?n(require("jQuery")):n(t.jQuery);for(var o in e)("object"==typeof exports?exports:t)[o]=e[o]}}("undefined"!=typeof self?self:this,function(t){return function(t){var n={};function e(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,e),a.l=!0,a.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(o,a,function(n){return t[n]}.bind(null,a));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=6)}([,function(n,e){n.exports=t},function(t,n,e){},function(t,n,e){var o,a;o=[e(1)],void 0===(a=function(t){return function(t){function n(t){return void 0!==t}function e(n,e,o){var a=function(){};a.prototype=e.prototype,n.prototype=new a,n.prototype.constructor=n,e.prototype.constructor=e,n._super=e.prototype,o&&t.extend(n.prototype,o)}function o(t,e){var o;"string"==typeof t&&(e=t,t=document);for(var a=0;a<c.length;++a){e=e.replace(c[a][0],c[a][1]);for(var r=0;r<i.length;++r)if(o=i[r],o+=0===r?e:e.charAt(0).toUpperCase()+e.substr(1),n(t[o]))return t[o]}}var a,c=[["",""],["exit","cancel"],["screen","Screen"]],i=["","o","ms","moz","webkit","webkitCurrent"],r=navigator.userAgent,l=o("fullscreenEnabled"),s=r.match(/Android.*Chrome\/(\d+)\./),T=!!s;T&&(a=parseInt(s[1]));var E=(!T||a>37)&&n(o("fullscreenElement"))&&(!n(l)||!0===l),d=t.fn.jquery.split("."),O=parseInt(d[0])<2&&parseInt(d[1])<7,N=function(){this.__options=null,this._fullScreenElement=null,this.__savedStyles={}};N.prototype={native:o,_DEFAULT_OPTIONS:{styles:{boxSizing:"border-box",MozBoxSizing:"border-box",WebkitBoxSizing:"border-box"},toggleClass:null},__documentOverflow:"",__htmlOverflow:"",_preventDocumentScroll:function(){this.__documentOverflow=document.body.style.overflow,this.__htmlOverflow=document.documentElement.style.overflow,t(this._fullScreenElement).is("body, html")||t("body, html").css("overflow","hidden")},_allowDocumentScroll:function(){document.body.style.overflow=this.__documentOverflow,document.documentElement.style.overflow=this.__htmlOverflow},_fullScreenChange:function(){this.__options&&(this.isFullScreen()?(this._preventDocumentScroll(),this._triggerEvents()):(this._allowDocumentScroll(),this._revertStyles(),this._triggerEvents(),this._fullScreenElement=null))},_fullScreenError:function(n){this.__options&&(this._revertStyles(),this._fullScreenElement=null,n&&t(document).trigger("fscreenerror",[n]))},_triggerEvents:function(){t(this._fullScreenElement).trigger(this.isFullScreen()?"fscreenopen":"fscreenclose"),t(document).trigger("fscreenchange",[this.isFullScreen(),this._fullScreenElement])},_saveAndApplyStyles:function(){var n=t(this._fullScreenElement);for(var e in this.__savedStyles={},this.__options.styles)this.__savedStyles[e]=this._fullScreenElement.style[e],this._fullScreenElement.style[e]=this.__options.styles[e];n.is("body")&&(document.documentElement.style.overflow=this.__options.styles.overflow),this.__options.toggleClass&&n.addClass(this.__options.toggleClass)},_revertStyles:function(){var n=t(this._fullScreenElement);for(var e in this.__options.styles)this._fullScreenElement.style[e]=this.__savedStyles[e];n.is("body")&&(document.documentElement.style.overflow=this.__savedStyles.overflow),this.__options.toggleClass&&n.removeClass(this.__options.toggleClass)},open:function(n,e){n!==this._fullScreenElement&&(this.isFullScreen()&&this.exit(),this._fullScreenElement=n,this.__options=t.extend(!0,{},this._DEFAULT_OPTIONS,e),this._saveAndApplyStyles())},exit:null,isFullScreen:null,isNativelySupported:function(){return E}};var f=function(){f._super.constructor.apply(this,arguments),this.exit=t.proxy(o("exitFullscreen"),document),this._DEFAULT_OPTIONS=t.extend(!0,{},this._DEFAULT_OPTIONS,{styles:{width:"100%",height:"100%"}}),t(document).bind(this._prefixedString("fullscreenchange")+" MSFullscreenChange",t.proxy(this._fullScreenChange,this)).bind(this._prefixedString("fullscreenerror")+" MSFullscreenError",t.proxy(this._fullScreenError,this))};e(f,N,{VENDOR_PREFIXES:["","o","moz","webkit"],_prefixedString:function(n){return t.map(this.VENDOR_PREFIXES,function(t){return t+n}).join(" ")},open:function(t,n){f._super.open.apply(this,arguments);var e=o(t,"requestFullscreen");e.call(t)},exit:t.noop,isFullScreen:function(){return null!==o("fullscreenElement")},element:function(){return o("fullscreenElement")}});var p=function(){p._super.constructor.apply(this,arguments),this._DEFAULT_OPTIONS=t.extend({},this._DEFAULT_OPTIONS,{styles:{position:"fixed",zIndex:"2147483647",left:0,top:0,bottom:0,right:0}}),this.__delegateKeydownHandler()};e(p,N,{__isFullScreen:!1,__delegateKeydownHandler:function(){var n=t(document);n.delegate("*","keydown.fullscreen",t.proxy(this.__keydownHandler,this));var e=O?n.data("events"):t._data(document).events,o=e.keydown;O?e.live.unshift(e.live.pop()):o.splice(0,0,o.splice(o.delegateCount-1,1)[0])},__keydownHandler:function(t){return!this.isFullScreen()||27!==t.which||(this.exit(),!1)},_revertStyles:function(){p._super._revertStyles.apply(this,arguments),this._fullScreenElement.offsetHeight},open:function(t){p._super.open.apply(this,arguments),this.__isFullScreen=!0,this._fullScreenChange()},exit:function(){this.__isFullScreen&&(this.__isFullScreen=!1,this._fullScreenChange())},isFullScreen:function(){return this.__isFullScreen},element:function(){return this.__isFullScreen?this._fullScreenElement:null}}),t.fullscreen=E?new f:new p,t.fn.fullscreen=function(n){var e=this[0];return(n=t.extend({toggleClass:null,overflow:"hidden"},n)).styles={overflow:n.overflow},delete n.overflow,e&&t.fullscreen.open(e,n),this}}(t)}.apply(n,o))||(t.exports=a)},,,function(t,n,e){"use strict";e.r(n);e(2);var o=e(1),a=e.n(o),c={UI:"keditor-ui",UI_DRAGGING:"keditor-ui-dragging",UI_HIDDEN:"keditor-ui-hidden",UI_CUTTING:"keditor-ui-cutting",UI_RESIZER:"ui-resizable-resizer",SORTABLE:"ui-sortable",RESIZABLE:"ui-sortable",WRAPPER:"keditor-wrapper",BTN:"keditor-btn",BTN_GROUP:"keditor-btn-group",BTN_PRIMARY:"keditor-btn-primary",BTN_DEFAULT:"keditor-btn-default",STATE_ACTIVE:"active",STATE_OPENED:"opened",STATE_SHOWED:"showed",STATE_SELECTED:"selected",STATE_DUPLICATED:"duplicated",STATE_INITIALIZED:"initialized",STATE_INITIALIZING:"initializing",STATE_PREVIEWING:"previewing",STATE_TOOLBAR_SHOWED:"showed-keditor-toolbar",STATE_MODAL_OPENED:"opened-modal",STATE_NOT_MATCHED:"not-matched",STATE_HAS_FOOTER:"has-footer",STATE_COPYING:"copying",STATE_COPYING_COMPONENT:"copying-component",STATE_COPYING_CONTAINER:"copying-container",STATE_COPYING_SUB_CONTAINER:"copying-sub-container",ADD_CONTENT:"btn-add-content",PASTE_CONTENT:"btn-paste-content",SIDEBAR:"keditor-sidebar",SIDEBAR_HEADER:"keditor-sidebar-header",SIDEBAR_BODY:"keditor-sidebar-body",SIDEBAR_TITLE:"keditor-sidebar-title",SIDEBAR_CLOSER:"keditor-sidebar-closer",TOPBAR:"keditor-topbar",TOPBAR_LEFT:"keditor-topbar-left",TOPBAR_CENTER:"keditor-topbar-center",TOPBAR_RIGHT:"keditor-topbar-right",TOPBAR_BUTTON:"keditor-topbar-btn",TOPBAR_TITLE:"keditor-topbar-title",MODAL:"keditor-modal",MODAL_COMPONENT:"keditor-modal-component",MODAL_CONTAINER:"keditor-modal-container",MODAL_HEADER:"keditor-modal-header",MODAL_TITLE:"keditor-modal-title",MODAL_BODY:"keditor-modal-body",MODAL_FOOTER:"keditor-modal-footer",MODAL_CLOSE:"keditor-modal-close",MODAL_ADD:"keditor-modal-add",SNIPPET:"keditor-snippet",SNIPPET_INNER:"keditor-snippet-inner",SNIPPET_TITLE:"keditor-snippet-title",SNIPPET_PREVIEW:"keditor-snippet-preview",SNIPPET_CONTAINER:"keditor-snippet-container",SNIPPET_COMPONENT:"keditor-snippet-component",SNIPPETS:"keditor-snippets",SNIPPETS_FILTER:"keditor-snippets-filter",SNIPPETS_FILTER_COMPONENT:"keditor-snippets-filter-component",SNIPPETS_FILTER_CONTAINER:"keditor-snippets-filter-container",SNIPPETS_FILTER_LABEL:"keditor-snippets-filter-label",SNIPPETS_SEARCH:"keditor-snippets-search",SNIPPETS_FILTER_WRAPPER:"keditor-snippets-filter-wrapper",SNIPPETS_COMPONENT:"keditor-snippets-component",SNIPPETS_WRAPPER:"keditor-snippets-wrapper",TOOLBAR:"keditor-toolbar",TOOLBAR_BOTTOM:"keditor-toolbar-bottom",TOOLBAR_CONTENT_AREA:"keditor-toolbar-content-area",TOOLBAR_CONTAINER:"keditor-toolbar-container",TOOLBAR_CONTAINER_BOTTOM:"keditor-toolbar-bottom-container",TOOLBAR_CONTAINER_CONTENT:"keditor-toolbar-container-content",TOOLBAR_SUB_CONTAINER:"keditor-toolbar-sub-container",TOOLBAR_SUB_CONTAINER_BOTTOM:"keditor-toolbar-bottom-sub-container",TOOLBAR_SUB_CONTAINER_CONTENT:"keditor-toolbar-sub-container-content",TOOLBAR_COMPONENT:"keditor-toolbar-component",TOOLBAR_COMPONENT_BOTTOM:"keditor-toolbar-bottom-component",SETTING:"keditor-setting",SETTING_FORM:"keditor-setting-form",SETTING_FORM_LOADING:"keditor-setting-form-loading",CONTENT_AREA:"keditor-content-area",CONTENT_AREA_INNER:"keditor-content-area-inner",CONTENT_AREAS:"keditor-content-areas",CONTENT_AREAS_WRAPPER:"keditor-content-areas-wrapper",IFRAME:"keditor-iframe",IFRAME_BODY:"keditor-iframe-body",IFRAME_WRAPPER:"keditor-iframe-wrapper",IFRAME_WIDTH_SWITCHER:"keditor-iframe-width-switcher",IFRAME_COVER_WRAPPER:"keditor-iframe-cover-wrapper",IFRAME_COVER_WRAPPER_FAKE:"keditor-iframe-cover-wrapper-fake",IFRAME_COVER:"keditor-iframe-cover",IFRAME_COVER_HIDDEN:"hidden-cover",COMPONENT:"keditor-component",COMPONENT_MOVE:"btn-component-move",COMPONENT_MOVE_UP:"btn-component-move-up",COMPONENT_MOVE_DOWN:"btn-component-move-down",COMPONENT_SETTING:"btn-component-setting",COMPONENT_DUPLICATE:"btn-component-duplicate",COMPONENT_COPY:"btn-component-copy",COMPONENT_CUT:"btn-component-cut",COMPONENT_DELETE:"btn-component-delete",COMPONENT_CONTENT:"keditor-component-content",COMPONENT_EXISTING:"existing-component",CONTAINER:"keditor-container",CONTAINER_MOVE:"btn-container-move",CONTAINER_MOVE_UP:"btn-container-move-up",CONTAINER_MOVE_DOWN:"btn-container-move-down",CONTAINER_DUPLICATE:"btn-container-duplicate",CONTAINER_COPY:"btn-container-copy",CONTAINER_CUT:"btn-container-cut",CONTAINER_DELETE:"btn-container-delete",CONTAINER_SETTING:"btn-container-setting",CONTAINER_INNER:"keditor-container-inner",CONTAINER_CONTENT:"keditor-container-content",CONTAINER_CONTENT_INNER:"keditor-container-content-inner",SUB_CONTAINER:"keditor-sub-container",SUB_CONTAINER_CONTENT:"keditor-sub-container-content",PREVIEW_AREA:"keditor-preview-area"},i={title:"Editing with KEditor",containerForQuickAddComponent:'\n        <div class="row">\n            <div class="col-sm-12" data-type="container-content">\n            </div>\n        </div>\n    ',extraSettings:null,locale:{viewOnMobile:"Ver no Celular",viewOnTablet:"Ver no Tablet",viewOnLaptop:"Ver no Notebook",viewOnDesktop:"Ver no Desktop",previewOn:"Pré-Visualizar ON",previewOff:"Pré-Visualizar OFF",fullscreenOn:"Tela Cheia ON",fullscreenOff:"Tela Cheia Off",save:"Salvar",addContent:"Adicionar Conteúdo",addContentBelow:"Adicione conteúdo abaixo",pasteContent:"Colar conteúdo",pasteContentBelow:"Colar conteúdo abaixo",move:"Arrastar",moveUp:"Mover pra Cima",moveDown:"Mover pra Baixo",setting:"Configuração",copy:"Copiar",cut:"Cortar",delete:"Excluir",snippetCategoryLabel:"Categoria",snippetCategoryAll:"Todos",snippetCategorySearch:"Escreva para pesquisar...",columnResizeTitle:"Arraste para redimensionar",containerSetting:"Configurações de Contêiner",confirmDeleteContainerText:"Tem certeza de que deseja excluir este contêiner? Essa ação não pode ser desfeita!",confirmDeleteComponentText:"Tem certeza de que deseja excluir este componente? Essa ação não pode ser desfeita!"},widthMobile:420,widthTablet:820,widthLaptop:1050,minWidthDesktop:1250,defaultComponentType:"blank",snippetsUrl:"snippets/snippets.html",snippetsCategoriesSeparator:";",contentStyles:[],contentAreasSelector:null,contentAreasWrapper:'<div class="'.concat(c.UI," ").concat(c.CONTENT_AREAS_WRAPPER,'"></div>'),containerSettingEnabled:!1,containerSettingInitFunction:null,containerSettingShowFunction:null,containerSettingHideFunction:null,bootstrap:{columnResizeEnabled:!0,gridSystem:[{width:8.33333333,col:1},{width:16.66666667,col:2},{width:25,col:3},{width:33.33333333,col:4},{width:41.66666667,col:5},{width:50,col:6},{width:58.33333333,col:7},{width:66.66666667,col:8},{width:75,col:9},{width:83.33333333,col:10},{width:91.66666667,col:11},{width:100,col:12},{width:1e4,col:1e4}]},onReady:function(){},onSave:function(t){},onSnippetsLoaded:function(t){},onSnippetsError:function(t){},onInitIframe:function(t,n,e){},onContentChanged:function(t,n){},onBeforeInitContentArea:function(t){},onInitContentArea:function(t){},onBeforeInitContainer:function(t,n){},onInitContainer:function(t,n){},onBeforeContainerDeleted:function(t,n,e){},onContainerDeleted:function(t,n,e){},onContainerChanged:function(t,n,e){},onContainerDuplicated:function(t,n,e,o){},onContainerSelected:function(t,n,e){},onContainerSnippetAdded:function(t,n,e,o){},onComponentReady:function(t){},onBeforeInitComponent:function(t,n){},onInitComponent:function(t,n){},onBeforeComponentDeleted:function(t,n,e){},onComponentDeleted:function(t,n,e){},onComponentChanged:function(t,n,e){},onComponentDuplicated:function(t,n,e,o){},onComponentSelected:function(t,n,e){},onComponentSnippetAdded:function(t,n,e,o){},onBeforeDynamicContentLoad:function(t,n,e){},onDynamicContentLoaded:function(t,n,e){},onDynamicContentError:function(t,n,e){}},r=function(){if(console&&"function"==typeof console.log&&window.KEDITOR_DEBUG){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];console.log.apply(console,["[ KEditor ] "].concat(n))}},l=function(){var t=(new Date).getTime(),n=Math.round(9876543210*Math.random());return"keditor-ui-".concat(t).concat(n)},s=function(t,n,e){var o=e?[]:{};return n||(n=[]),$.each(t.get(0).attributes,function(t,a){0===a.name.indexOf("data-")&&-1===$.inArray(a.name,n)&&(e?o.push("".concat(a.name,'="').concat(a.value,'"')):o[a.name]=a.value)}),o},T=function(t,n,e,o,a,i){var r=this.options,s=l(),T='\n        <section\n            class="'.concat(c.UI," ").concat(c.SNIPPET," ").concat("container"===t?c.SNIPPET_CONTAINER:c.SNIPPET_COMPONENT,'"\n            data-snippet="#').concat(s,'"\n            data-type="').concat(t,'"\n            data-keditor-title="').concat(n,'"\n            data-keditor-categories="').concat(o,'"\n        >\n            <span class="').concat(c.SNIPPET_INNER,'">\n                <span class="').concat(c.SNIPPET_PREVIEW,'" style="background-image: url(\'').concat(e,'\')"></span>\n                <span class="').concat(c.SNIPPET_TITLE,'" title="').concat(n,'">').concat(n,"</span>\n            </span>\n        </section>\n    "),E='<script id="'.concat(s,'" type="text/html" ').concat(i.join(" "),">").concat(a,"<\/script>");return o=o.split(r.snippetsCategoriesSeparator),"container"===t?this.categoryContainer=this.categoryContainer.concat(o):-1!==t.indexOf("component")&&(this.categoryComponent=this.categoryComponent.concat(o)),[T,E]},E=function(){var t=this,n=t.options,e=t.modal,o='<option value="" selected="selected">'.concat(n.locale.snippetCategoryAll,"</option>");$.each(t.categoryComponent,function(t,n){o+='<option value="'.concat(n,'" class="').concat(c.SNIPPETS_FILTER_COMPONENT,'">').concat(n,"</option>")}),$.each(t.categoryContainer,function(n,e){var a=-1!==$.inArray(e,t.categoryComponent);o+='<option value="'.concat(e,'" class="').concat(c.SNIPPETS_FILTER_CONTAINER," ").concat(a?c.STATE_DUPLICATED:"",'">').concat(e,"</option>")});var a=e.find(".".concat(c.SNIPPETS_FILTER_WRAPPER));return 0===a.length&&(a=$('<div class="'.concat(c.UI," ").concat(c.SNIPPETS_FILTER_WRAPPER,'"></div>')),e.find(".".concat(c.MODAL_TITLE)).replaceWith(a)),[o,a]},d=function(t){for(var n=[],e=0;e<t.length;e++){var o=t[e]||"";""!==o&&-1===$.inArray(o,n)&&n.push(o)}return n.sort()};function O(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],o=!0,a=!1,c=void 0;try{for(var i,r=t[Symbol.iterator]();!(o=(i=r.next()).done)&&(e.push(i.value),!n||e.length!==n);o=!0);}catch(t){a=!0,c=t}finally{try{o||null==r.return||r.return()}finally{if(a)throw c}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var N=function(t){var n=this.options,e=(t.attr("data-type")||"").replace("component-","");return e&&e in KEditor.components?e:("string"==typeof n.defaultComponentType?e=n.defaultComponentType:"function"==typeof n.defaultComponentType&&(e=n.defaultComponentType.call(this,t)),e||this.error("Component type is undefined!"),e)},f={COMPONENT:"component",CONTAINER:"container",EXTRA:"extra"},p=function(){r("closeSidebar");var t=this.options,n=this.sidebar,e=this.sidebarBody.children(".".concat(c.STATE_ACTIVE));if(e.length>0){switch(e.attr("[data-setting-category]")){case f.CONTAINER:"function"==typeof t.containerSettingHideFunction&&t.containerSettingHideFunction.call(this,e,this);break;case f.COMPONENT:var o=e.attr("data-type"),a=KEditor.components[o];"function"==typeof a.hideSettingForm&&a.hideSettingForm.call(a,e,this)}e.removeClass(c.STATE_ACTIVE)}this.settingComponent=null,this.settingContainer=null,n.removeClass(c.STATE_OPENED)},C=function(t,n,e,o,a,i,r){var l=this,s=l.sidebar,T=l.sidebarTitle,E=l.sidebarBody,d=E.children(".".concat(c.SETTING_FORM,'[data-setting-type="').concat(n,'"][data-setting-category="').concat(e,'"]'));if(0===d.length){if("function"==typeof a){d=$('\n                <div\n                    data-setting-type="'.concat(n,'"\n                    data-setting-category="').concat(e,'"\n                    class="').concat(c.UI," ").concat(c.SETTING_FORM,'"\n                ></div>\n            '));var O=$('<span class="'.concat(c.SETTING_FORM_LOADING,'" />')).html("Loading...");E.append(d),d.append(O),$.when(a.call(r,d,l)).done(function(){setTimeout(function(){O.remove(),"function"==typeof i&&i.call(r,d,t,l)},100)})}}else{if(d.hasClass(c.STATE_ACTIVE)&&(t.is(l.settingContainer)||t.is(l.settingComponent)))return void p.call(l);"function"==typeof i&&i.call(r,d,t,l)}switch(l.settingComponent=null,l.settingContainer=null,e){case f.COMPONENT:l.settingComponent=t;break;case f.CONTAINER:l.settingContainer=t}E.children(".".concat(c.STATE_ACTIVE)).removeClass(c.STATE_ACTIVE),T.html(o),d.addClass(c.STATE_ACTIVE),s.addClass(c.STATE_OPENED)},u=function(t){r("openSidebar",t);var n=this.options;if(t.is(".".concat(c.COMPONENT))){var e=N.call(this,t),o=KEditor.components[e];C.call(this,t,e,f.COMPONENT,o.settingTitle,o.initSettingForm,o.showSettingForm,o)}else if(t.is(".".concat(c.CONTAINER)))C.call(this,t,null,f.CONTAINER,n.locale.containerSetting,n.containerSettingInitFunction,n.containerSettingShowFunction,this);else{var a=t.attr("data-extra-setting"),i=n.extraSettings[a];C.call(this,t,a,f.EXTRA,i.title,i.settingInitFunction,i.settingShowFunction,i)}};function _(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],o=!0,a=!1,c=void 0;try{for(var i,r=t[Symbol.iterator]();!(o=(i=r.next()).done)&&(e.push(i.value),!n||e.length!==n);o=!0);}catch(t){a=!0,c=t}finally{try{o||null==r.return||r.return()}finally{if(a)throw c}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],o=!0,a=!1,c=void 0;try{for(var i,r=t[Symbol.iterator]();!(o=(i=r.next()).done)&&(e.push(i.value),!n||e.length!==n);o=!0);}catch(t){a=!0,c=t}finally{try{o||null==r.return||r.return()}finally{if(a)throw c}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=function(t){var n="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend";t.off(n).on(n,function(){t.hasClass(c.STATE_SHOWED)||(t.css("display","none"),$(document.body).removeClass(c.STATE_MODAL_OPENED))}),t.removeClass(c.STATE_SHOWED)},I=function(){var t=this.modal;this.modalTarget=null,this.modalTargetAction=null,t.find(".".concat(c.STATE_SELECTED)).removeClass(c.STATE_SELECTED),t.find(".".concat(c.STATE_NOT_MATCHED)).removeClass(c.STATE_NOT_MATCHED),t.find(".".concat(c.SNIPPETS_FILTER)).val(""),t.removeClass(c.MODAL_COMPONENT),t.removeClass(c.MODAL_CONTAINER),A.call(this,t)},v={APPEND:"append",AFTER:"after"},R={CONTENT_AREA:1e3,CONTAINER:2e3,CONTAINER_CONTENT:2100,CONTAINER_BOTTOM:2200,SUB_CONTAINER:3e3,SUB_CONTAINER_BOTTOM:3100,SUB_CONTAINER_CONTENT:3200,COMPONENT:4e3,COMPONENT_BOTTOM:4100},S={ADD_CONTENT:'<i class="fas fa-plus"></i>',PASTE_CONTENT:'<i class="fas fa-paste"></i>',MOVE_CONTAINER:'<i class="fas fa-sort"></i>',MOVE_COMPONENT:'<i class="fas fa-arrows-alt"></i>',MOVE_UP_CONTAINER:'<i class="fas fa-chevron-up"></i>',MOVE_UP_COMPONENT:'<i class="fas fa-chevron-up"></i>',MOVE_DOWN_CONTAINER:'<i class="fas fa-chevron-down"></i>',MOVE_DOWN_COMPONENT:'<i class="fas fa-chevron-down"></i>',SETTING_CONTAINER:'<i class="fas fa-cog"></i>',SETTING_COMPONENT:'<i class="fas fa-cog"></i>',DUPLICATE_CONTAINER:'<i class="fas fa-copy"></i>',DUPLICATE_COMPONENT:'<i class="fas fa-copy"></i>',COPY_CONTAINER:'<i class="fas fa-copy"></i>',COPY_COMPONENT:'<i class="fas fa-copy"></i>',CUT_CONTAINER:'<i class="fas fa-cut"></i>',CUT_COMPONENT:'<i class="fas fa-cut"></i>',DELETE_CONTAINER:'<i class="fas fa-trash"></i>',DELETE_COMPONENT:'<i class="fas fa-trash"></i>',DEVICE_MOBILE:'<i class="fas fa-fw fa-mobile"></i>',DEVICE_TABLET:'<i class="fas fa-fw fa-tablet"></i>',DEVICE_LAPTOP:'<i class="fas fa-fw fa-laptop"></i>',DEVICE_DESKTOP:'<i class="fas fa-fw fa-desktop"></i>',PREVIEW_ON:'<i class="fas fa-fw fa-eye"></i>',PREVIEW_OFF:'<i class="fas fa-fw fa-eye-slash"></i>',FULLSCREEN_ON:'<i class="fas fa-fw fa-compress"></i>',FULLSCREEN_OFF:'<i class="fas fa-fw fa-expand"></i>',SAVE:'<i class="fas fa-fw fa-save"></i>',ADD:'<i class="fas fa-plus"></i>'},m=function(t,n){var e=this.options,o="";switch(t){case R.CONTAINER:case R.SUB_CONTAINER:return n&&(o='<a href="javascript:void(0);" class="'.concat(c.UI," ").concat(c.CONTAINER_SETTING,'" title="').concat(e.locale.setting,'">').concat(S.SETTING_CONTAINER,"</a>")),'\n                <div class="'.concat(c.UI," ").concat(c.TOOLBAR," ").concat(c.TOOLBAR_CONTAINER," ").concat(t===R.SUB_CONTAINER?c.TOOLBAR_SUB_CONTAINER:"",'">\n                    <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.CONTAINER_MOVE,'" title="').concat(e.locale.move,'">').concat(S.MOVE_CONTAINER,'</a>\n                    <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.CONTAINER_MOVE_UP,'" title="').concat(e.locale.moveUp,'">').concat(S.MOVE_UP_CONTAINER,'</a>\n                    <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.CONTAINER_MOVE_DOWN,'" title="').concat(e.locale.moveDown,'">').concat(S.MOVE_DOWN_CONTAINER,"</a>\n                    ").concat(o,'\n                    <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.CONTAINER_CUT,'" title="').concat(e.locale.cut,'">').concat(S.CUT_CONTAINER,'</a>\n                    <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.CONTAINER_COPY,'" title="').concat(e.locale.copy,'">').concat(S.COPY_CONTAINER,'</a>\n                    <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.CONTAINER_DELETE,'" title="').concat(e.locale.delete,'">').concat(S.DELETE_CONTAINER,"</a>\n                </div>\n            ");case R.COMPONENT:return n&&(o='<a href="javascript:void(0);" class="'.concat(c.UI," ").concat(c.COMPONENT_SETTING,'" title="').concat(e.locale.setting,'">').concat(S.SETTING_COMPONENT,"</a>")),'\n                <div class="'.concat(c.UI," ").concat(c.TOOLBAR," ").concat(c.TOOLBAR_COMPONENT,'">\n                    <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.COMPONENT_MOVE,'" title="').concat(e.locale.move,'">').concat(S.MOVE_COMPONENT,'</a>\n                    <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.COMPONENT_MOVE_UP,'" title="').concat(e.locale.moveUp,'">').concat(S.MOVE_UP_COMPONENT,'</a>\n                    <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.COMPONENT_MOVE_DOWN,'" title="').concat(e.locale.moveDown,'">').concat(S.MOVE_DOWN_COMPONENT,"</a>\n                    ").concat(o,'\n                    <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.COMPONENT_CUT,'" title="').concat(e.locale.cut,'">').concat(S.CUT_COMPONENT,'</a>\n                    <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.COMPONENT_COPY,'" title="').concat(e.locale.copy,'">').concat(S.COPY_COMPONENT,'</a>\n                    <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.COMPONENT_DELETE,'" title="').concat(e.locale.delete,'">').concat(S.DELETE_COMPONENT,"</a>\n                </div>\n            ");case R.CONTENT_AREA:return'\n                <div class="'.concat(c.UI," ").concat(c.TOOLBAR_CONTENT_AREA,'">\n                    <a href="javascript:void(0)" class="').concat(c.UI," ").concat(c.BTN," ").concat(c.BTN_DEFAULT," ").concat(c.ADD_CONTENT,'" title="').concat(e.locale.addContent,'">').concat(S.ADD_CONTENT,'</a>\n                    <a href="javascript:void(0)" class="').concat(c.UI," ").concat(c.BTN," ").concat(c.BTN_DEFAULT," ").concat(c.PASTE_CONTENT,'" title="').concat(e.locale.pasteContent,'">').concat(S.PASTE_CONTENT,"</a>\n                </div>\n            ");case R.CONTAINER_CONTENT:case R.SUB_CONTAINER_CONTENT:return'\n                <div class="'.concat(c.UI," ").concat(c.TOOLBAR_CONTAINER_CONTENT," ").concat(t===R.SUB_CONTAINER_CONTENT?c.TOOLBAR_SUB_CONTAINER_CONTENT:"",'">\n                    <a href="javascript:void(0)" class="').concat(c.UI," ").concat(c.BTN," ").concat(c.BTN_DEFAULT," ").concat(c.ADD_CONTENT,'" title="').concat(e.locale.addContent,'">').concat(S.ADD_CONTENT,'</a>\n                    <a href="javascript:void(0)" class="').concat(c.UI," ").concat(c.BTN," ").concat(c.BTN_DEFAULT," ").concat(c.PASTE_CONTENT,'" title="').concat(e.locale.pasteContent,'">').concat(S.PASTE_CONTENT,"</a>\n                </div>\n            ");case R.CONTAINER_BOTTOM:case R.SUB_CONTAINER_BOTTOM:return'\n                <div class="'.concat(c.UI," ").concat(c.TOOLBAR," ").concat(c.TOOLBAR_BOTTOM," ").concat(c.TOOLBAR_CONTAINER_BOTTOM," ").concat(t===R.SUB_CONTAINER_BOTTOM?c.TOOLBAR_SUB_CONTAINER_BOTTOM:"",'">\n                    <a href="javascript:void(0)" class="').concat(c.UI," ").concat(c.ADD_CONTENT,'" title="').concat(e.locale.addContentBelow,'">').concat(S.ADD_CONTENT,'</a>\n                    <a href="javascript:void(0)" class="').concat(c.UI," ").concat(c.PASTE_CONTENT,'" title="').concat(e.locale.pasteContentBelow,'">').concat(S.PASTE_CONTENT,"</a>\n                </div>\n            ");case R.COMPONENT_BOTTOM:return'\n                <div class="'.concat(c.UI," ").concat(c.TOOLBAR," ").concat(c.TOOLBAR_BOTTOM," ").concat(c.TOOLBAR_COMPONENT_BOTTOM,'">\n                    <a href="javascript:void(0)" class="').concat(c.UI," ").concat(c.ADD_CONTENT,'" title="').concat(e.locale.addContentBelow,'">').concat(S.ADD_CONTENT,'</a>\n                    <a href="javascript:void(0)" class="').concat(c.UI," ").concat(c.PASTE_CONTENT,'" title="').concat(e.locale.pasteContentBelow,'">').concat(S.PASTE_CONTENT,"</a>\n                </div>\n            ")}},y=function(t){var n=this,e=n.options,o=t.closest("[data-type^=component]"),a=t.closest(".".concat(c.CONTENT_AREA));!t.attr("id")&&t.attr("id",l()),"function"==typeof e.onBeforeDynamicContentLoad&&e.onBeforeDynamicContentLoad.call(n,t,o,a);var i=t.attr("data-dynamic-href"),r=s(o,["data-type","data-dynamic-href"],!1);return r=$.param(r),$.ajax({url:i,data:r,type:"GET",dataType:"HTML",success:function(o,c,i){t.html(o),"function"==typeof e.onDynamicContentLoaded&&e.onDynamicContentLoaded.call(n,t,i,a)},error:function(o,c,i){"function"==typeof e.onDynamicContentError&&e.onDynamicContentError.call(n,t,o,a)}})},P=function(t,n){if(!t.is(".".concat(c.TOOLBAR_CONTAINER_CONTENT))){var e,o=s.call(this,t,null,!0);t.wrap('<section class="'.concat(c.UI," ").concat(c.COMPONENT,'" data-type="').concat(t.attr("data-type"),'" ').concat(o.join(" "),"></section>")),t.wrap('<section class="'.concat(c.UI," ").concat(c.COMPONENT_CONTENT,'"></section>')),e=t.parent().parent(),n&&e.addClass("".concat(c.COMPONENT_EXISTING)),function(t){var n=this,e=n.options,o=t.closest(".".concat(c.CONTAINER)),a=o.closest(".".concat(c.CONTENT_AREA));if(!t.hasClass(c.STATE_INITIALIZED)||!t.hasClass(c.STATE_INITIALIZING)){t.addClass(c.STATE_INITIALIZING),t.attr("id",l()),"function"==typeof e.onBeforeInitComponent&&e.onBeforeInitComponent.call(n,t,a),t.children(".".concat(c.COMPONENT_CONTENT)).attr("id",l());var i=N.call(n,t),r=KEditor.components[i];t.append(m.call(n,R.COMPONENT,r.settingEnabled)),t.append(m.call(n,R.COMPONENT_BOTTOM)),t.find("[data-dynamic-href]").each(function(){var t=$(this);y.call(n,t)}),"function"==typeof r.init&&r.init.call(r,a,o,t,n),"function"==typeof e.onInitComponent&&e.onInitComponent.call(n,t,a),t.addClass(c.STATE_INITIALIZED),t.removeClass(c.STATE_INITIALIZING)}}.call(this,e)}},D=function(t){t.css("display","block"),$(document.body).addClass(c.STATE_MODAL_OPENED),setTimeout(function(){t.addClass(c.STATE_SHOWED)},0)},g=function(t,n,e,o){var a=this.modal;this.modalTarget=t,this.modalTargetAction=n,e&&a.addClass(c.MODAL_COMPONENT),o&&a.addClass(c.MODAL_CONTAINER),a.css("display","block"),D.call(this,a)},M=function(t){var n=this,e=n.options,o=t.find('.row > [class*="col-"]');o.length>0&&o.resizable({handles:"resizer, none",create:function(){$(this).find(".".concat(c.UI_RESIZER)).attr("title",e.locale.columnResizeTitle)},resize:function(t,o){var a=$(this),c=n.deviceMode,i="col-".concat(c,"-1 col-").concat(c,"-2 col-").concat(c,"-3 col-").concat(c,"-4 col-").concat(c,"-5 col-").concat(c,"-6 col-").concat(c,"-7 col-").concat(c,"-8 col-").concat(c,"-9 col-").concat(c,"-10 col-").concat(c,"-11 col-").concat(c,"-12"),r=a.parent(),l=function(t,n){for(var e,o,a=0;a<t.length;++a){var c=Math.abs(t[a].width-n);if(o&&!(c<o))return t[e].col;e=a,o=c}return null}(e.bootstrap.gridSystem,100*o.size.width/r.innerWidth());a.removeClass(i).addClass("col-".concat(c,"-").concat(l)),a.css("width",""),a.css("height","")}})},L=function(t){var n=this,e=n.options,o=t.closest('[data-type="container-content"]').length>0,a=t.closest(".".concat(c.CONTENT_AREA));t.hasClass(c.STATE_INITIALIZED)&&t.hasClass(c.STATE_INITIALIZING)||(t.addClass(c.STATE_INITIALIZING),"function"==typeof e.onBeforeInitContainer&&e.onBeforeInitContainer.call(n,t,a),o&&t.addClass(c.SUB_CONTAINER),t.append(m.call(n,o?R.SUB_CONTAINER:R.CONTAINER,e.containerSettingEnabled)+m.call(n,o?R.SUB_CONTAINER_BOTTOM:R.CONTAINER_BOTTOM)),t.attr("id",l()),t.find('[data-type="container-content"]').each(function(){var e=$(this);!o&&e.parents('[data-type="container-content"]').length>0||function(t,n,e,o){var a=this,i=a.options,r=a.contentAreasWrapper;e.addClass(c.CONTAINER_CONTENT),o&&e.addClass(c.SUB_CONTAINER_CONTENT),e.attr("id",l());var s=$('<div class="'.concat(c.CONTAINER_CONTENT_INNER,'"></div>'));s.html(e.html()),e.html(s);var T=$(m.call(a,o?R.SUB_CONTAINER_CONTENT:R.CONTAINER_CONTENT,i.containerSettingEnabled));T.appendTo(e),T.children(".".concat(c.ADD_CONTENT)).on("click",function(t){t.preventDefault(),g.call(a,s,v.APPEND,!0,!o)}),s.sortable({handle:".".concat(c.COMPONENT_MOVE,", .").concat(c.CONTAINER_MOVE),helper:"clone",items:"> .".concat(c.COMPONENT),connectWith:".".concat(c.CONTAINER_CONTENT_INNER),tolerance:"pointer",receive:function(n,e){var o,l=e.helper,s=e.item;l&&l.remove(),(o=s.closest(".".concat(c.CONTAINER))).hasClass(c.STATE_TOOLBAR_SHOWED)||(r.find(".".concat(c.CONTAINER,".").concat(c.STATE_TOOLBAR_SHOWED)).removeClass(c.STATE_TOOLBAR_SHOWED),o.addClass(c.STATE_TOOLBAR_SHOWED)),"function"==typeof i.onContainerChanged&&i.onContainerChanged.call(a,n,o,t),"function"==typeof i.onContentChanged&&i.onContentChanged.call(a,n,t),s.removeClass(c.UI_DRAGGING)},start:function(t,n){n.item.addClass(c.UI_DRAGGING),n.item.addClass(c.STATE_TOOLBAR_SHOWED)},stop:function(t,n){n.helper&&n.helper.remove(),n.item.removeClass(c.UI_DRAGGING)}}),s.children().each(function(){var t=$(this);t.find('[data-type="container-content"]').length>0?B.call(a,t):P.call(a,t,!0)})}.call(n,a,t,e,o)}),e.bootstrap.columnResizeEnabled&&M.call(n,t),"function"==typeof e.onInitContainer&&e.onInitContainer.call(n,t,a),t.addClass(c.STATE_INITIALIZED),t.removeClass(c.STATE_INITIALIZING))},B=function(t){var n;t.wrap('<section class="'.concat(c.UI," ").concat(c.CONTAINER,'"></section>')),t.wrap('<section class="'.concat(c.UI," ").concat(c.CONTAINER_INNER,'"></section>')),n=t.parent().parent(),L.call(this,n)},b=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this,a='<div class="'.concat(c.MODAL_FOOTER,'"></div>'),i=$('\n        <div class="'.concat(c.UI," ").concat(c.MODAL," ").concat(n?c.STATE_HAS_FOOTER:"",'" id="').concat(t,'">\n            <div class="').concat(c.MODAL_HEADER,'">\n                <button type="button" class="').concat(c.MODAL_CLOSE,'">&times;</button>\n                <h4 class="').concat(c.MODAL_TITLE,'"></h4>\n            </div>\n            <div class="').concat(c.MODAL_BODY,'"></div>\n            ').concat(n?a:"","\n        </div>\n    "));return e||i.on("click",".".concat(c.MODAL_CLOSE),function(t){t.preventDefault(),A.call(o,i)}),i.appendTo(o.wrapper)},k=function(){var t=this,n=t.options,e=t.modal=b.call(t,l(),!1,!0);"string"==typeof n.snippetsUrl&&n.snippetsUrl.length>0?(e.find(".".concat(c.MODAL_BODY)).append('\n            <div class="'.concat(c.SNIPPETS_WRAPPER,'">\n                <div class="').concat(c.SNIPPETS,'"></div>\n            </div>\n        ')),$.ajax({type:"get",dataType:"html",url:n.snippetsUrl,success:function(e){"function"==typeof n.onSnippetsLoaded&&(e=n.onSnippetsLoaded.call(t,e)||e),function(t){var n=this,e="",o="";$(t).filter("div").each(function(){var t=$(this),a=t.html().trim(),c=t.attr("data-preview"),i=t.attr("data-type"),r=t.attr("data-keditor-title"),l=t.attr("data-keditor-categories")||"",s=n.getDataAttributes(t,["data-preview","data-type","data-keditor-title","data-keditor-categories"],!0),E=_(T.call(n,i,r,c,l,a,s),2),d=E[0],O=E[1];o+=d,e+=O}),n.categoryContainer=d(n.categoryContainer),n.categoryComponent=d(n.categoryComponent),n.modal.find(".".concat(c.SNIPPETS)).html(o),n.modal.find(".".concat(c.MODAL_BODY)).append(e)}.call(t,e),function(){var t=this,n=t.options,e=h(E.call(t),2),o=e[0],a=e[1];a.html('\n        <span class="'.concat(c.UI," ").concat(c.SNIPPETS_FILTER_LABEL,'">').concat(n.locale.snippetCategoryLabel,':</span>\n        <select class="').concat(c.UI," ").concat(c.SNIPPETS_FILTER,'">\n            ').concat(o,'\n        </select>\n        <input type="text" class="').concat(c.UI," ").concat(c.SNIPPETS_SEARCH,'" value="" placeholder="').concat(n.locale.snippetCategorySearch,'" />\n    '));var i,r=a.find(".".concat(c.SNIPPETS_SEARCH)),l=a.find(".".concat(c.SNIPPETS_FILTER)),s=function(){var e=(l.val()||"").toLowerCase(),o=(r.val()||"").toLowerCase(),a=t.modal.find(".".concat(c.SNIPPET));a.filter(".".concat(c.STATE_SELECTED)).removeClass(c.STATE_SELECTED),e||o?a.each(function(){var t=$(this),a=t.attr("data-keditor-categories").toLowerCase(),i=a.split(n.snippetsCategoriesSeparator),r=0;e&&-1===$.inArray(e,i)&&r++,o&&-1===t.attr("data-keditor-title").toLowerCase().indexOf(o)&&-1===a.indexOf(o)&&r++,t[0===r?"removeClass":"addClass"](c.STATE_NOT_MATCHED)}):a.removeClass(c.STATE_NOT_MATCHED)};l.on("change",function(){s()}),r.on("keydown",function(){clearTimeout(i),i=setTimeout(s,200)})}.call(t)},error:function(e){"function"==typeof n.onSnippetsError&&n.onSnippetsError.call(t,e)}}),function(){var t=this.modal;t.on({click:function(n){n.preventDefault();var e=$(this);e.hasClass(c.STATE_SELECTED)?e.removeClass(c.STATE_SELECTED):(t.find(".".concat(c.STATE_SELECTED)).removeClass(c.STATE_SELECTED),e.addClass(c.STATE_SELECTED))},mouseover:function(){$(this).addClass(c.STATE_SELECTED)},mouseout:function(){$(this).removeClass(c.STATE_SELECTED)}},".".concat(c.SNIPPET))}.call(t),e.find(".".concat(c.MODAL_CLOSE)).on("click",function(n){n.preventDefault(),I.call(t)}),e.on("click",".".concat(c.SNIPPET),function(n){n.preventDefault();var e=$(this);(function(t,n,e,o){var a,i,r=this.modal,l=this.options,T=e.closest(".".concat(c.CONTENT_AREA)),E=n.attr("data-type"),d=r.find(n.attr("data-snippet")),O=d.html(),N=r.hasClass(c.MODAL_COMPONENT),f=r.hasClass(c.MODAL_CONTAINER),p=!1,C=!1,u=!1;if("container"===E?p=!0:(N&&!f&&(C=!0),N&&f&&(e.is(".".concat(c.CONTAINER_CONTENT_INNER))?C=!0:o===v.APPEND?u=!0:C=!0)),this.contentAreasWrapper.find(".".concat(c.STATE_TOOLBAR_SHOWED)).removeClass(c.STATE_TOOLBAR_SHOWED),p&&(a=$(O),e[o](a),"function"==typeof l.onContainerSnippetAdded&&l.onContainerSnippetAdded.call(this,t,a,n,T),"function"==typeof l.onContentChanged&&l.onContentChanged.call(this,t,T),B.call(this,a),a.trigger("click")),C||u){var _=s.call(this,d,null,!0);i=$('\n            <div data-type="'.concat(E,'" ').concat(_.join(" "),">\n                ").concat(O,"\n            </div>\n        "))}C&&(e[o](i),e.closest(".".concat(c.CONTAINER)).addClass(c.STATE_TOOLBAR_SHOWED),"function"==typeof l.onComponentSnippetAdded&&l.onComponentSnippetAdded.call(this,t,i,n,T),"function"==typeof l.onContentChanged&&l.onContentChanged.call(this,t,T),P.call(this,i),i.trigger("click"));u&&((a=$(l.containerForQuickAddComponent)).find('[data-type="container-content"]').eq(0).html(i),e[o](a),"function"==typeof l.onComponentSnippetAdded&&l.onComponentSnippetAdded.call(this,t,i,n,T),"function"==typeof l.onContentChanged&&l.onContentChanged.call(this,t,T),B.call(this,a),i.trigger("click"))}).call(t,n,e,t.modalTarget,t.modalTargetAction),I.call(t)})):t.error('"snippetsUrl" must be not null!')},w={MOBILE:"sm",TABLET:"md",LAPTOP:"lg",DESKTOP:"xl"},U=function(t,n){var e=this.options,o=this.topbarCenter,a=this.iframe.parent(),i="",r="";switch(o.find(".".concat(c.STATE_ACTIVE)).removeClass(c.STATE_ACTIVE),n.addClass(c.STATE_ACTIVE),t){case w.MOBILE:i=e.widthMobile;break;case w.TABLET:i=e.widthTablet;break;case w.LAPTOP:i=e.widthLaptop;break;case w.DESKTOP:r=e.minWidthDesktop}this.deviceMode=t,a.css("width",i),a.css("min-width",r)},F=function(t){var n,e=t.clone(),o=N.call(this,e),a=KEditor.components[o],i=s(e,null,!1),r=e.find(".".concat(c.IFRAME_COVER_WRAPPER));if(r.length>0){r.find(".".concat(c.IFRAME_COVER)).remove();var l=r.children("iframe");r.hasClass(c.IFRAME_COVER_WRAPPER_FAKE)?l.unwrap():r.removeClass(c.IFRAME_COVER_WRAPPER)}"function"==typeof a.getContent?n=a.getContent.call(a,e,this):n=e.children(".".concat(c.COMPONENT_CONTENT)).html();return e.html(n).find("[data-dynamic-href]").each(function(){$(this).html("")}),e.children().attr(i),e.html()};function W(t,n){var e=this,o=t.children(".".concat(c.CONTAINER_INNER)).clone();return o.find("[data-type=container-content]").not(n?"":".".concat(c.SUB_CONTAINER_CONTENT)).each(function(){var t=$(this);t.removeClass("".concat(c.CONTAINER_CONTENT," ").concat(c.SUB_CONTAINER_CONTENT," ").concat(c.SORTABLE," ").concat(c.RESIZABLE)).removeAttr("id");var n=t.children(),o="";n.children().each(function(){var t=$(this);t.is(".".concat(c.COMPONENT))?o+=F.call(e,t):t.is(".".concat(c.SUB_CONTAINER))&&(o+=W.call(e,t,!0))}),t.html(o)}),o.html()}var V=function(t){var n=this,e=[];return n.contentAreasWrapper.find(".".concat(c.CONTENT_AREA_INNER)).each(function(){var t="";$(this).children(".".concat(c.CONTAINER)).each(function(){var e=$(this);t+=W.call(n,e)}),e.push(t)}),t?e:e.join("\n")},x=(e(3),function(){(function(){var t=this,n=t.options,e=$('<a href="javascript:void(0);" title="'.concat(n.locale.previewOff,'" class="').concat(c.UI," ").concat(c.TOPBAR_BUTTON,'">').concat(S.PREVIEW_OFF,"</a>"));t.previewArea=$('<div class="'.concat(c.PREVIEW_AREA,'"></div>')),t.contentAreasWrapper.after(t.previewArea),e.on("click",function(o){o.preventDefault();var a=!e.hasClass(c.STATE_ACTIVE);e.html(a?S.PREVIEW_ON:S.PREVIEW_OFF),e[a?"addClass":"removeClass"](c.STATE_ACTIVE),e.attr("title",a?n.locale.previewOn:n.locale.previewOff),t.iframeBody[a?"addClass":"removeClass"](c.STATE_PREVIEWING),t.previewArea.html(""),p.call(t),a&&t.previewArea.html(V.call(t)).find("[data-dynamic-href]").each(function(){var n=$(this);n.html("Loading..."),y.call(t,n)})}),t.topbarRight.append(e)}).apply(this),function(){var t=this,n=t.options,e=$('<a href="javascript:void(0);" title="'.concat(n.locale.fullscreenOff,'" class="').concat(c.UI," ").concat(c.TOPBAR_BUTTON,'">').concat(S.FULLSCREEN_OFF,"</a>"));e.on("click",function(n){n.preventDefault(),$.fullscreen.isFullScreen()?$.fullscreen.exit():t.wrapper.fullscreen()}),$(document).on("fscreenchange",function(t,o){e.html(o?S.FULLSCREEN_ON:S.FULLSCREEN_OFF),e.attr("title",o?n.locale.fullscreenOn:n.locale.fullscreenOff)}),this.topbarRight.append(e)}.apply(this)}),G=function(){var t=l(),n=this.options;this.topbar=$('\n        <div class="'.concat(c.UI," ").concat(c.TOPBAR,'" id="').concat(t,'">\n            <div class="').concat(c.UI," ").concat(c.TOPBAR_LEFT,'">\n                <div class="').concat(c.UI," ").concat(c.TOPBAR_TITLE,'" title="').concat(n.title,'">').concat(n.title,'</div>\n            </div>\n            <div class="').concat(c.UI," ").concat(c.TOPBAR_CENTER,'">\n            </div>\n            <div class="').concat(c.UI," ").concat(c.TOPBAR_RIGHT,'">\n            </div>\n        </div>\n    ')),this.topbarLeft=this.topbar.find(".".concat(c.TOPBAR_LEFT)),this.topbarCenter=this.topbar.find(".".concat(c.TOPBAR_CENTER)),this.topbarRight=this.topbar.find(".".concat(c.TOPBAR_RIGHT)),this.topbar.appendTo(this.wrapper),function(){var t=this,n=t.options,e=t.topbarCenter,o=$('\n        <a href="javascript:void(0);" title="'.concat(n.locale.viewOnMobile,'" class="').concat(c.UI," ").concat(c.TOPBAR_BUTTON,'">').concat(S.DEVICE_MOBILE,"</a>\n    "));o.on("click",function(n){n.preventDefault(),U.call(t,w.MOBILE,o)});var a=$('\n        <a href="javascript:void(0);" title="'.concat(n.locale.viewOnTablet,'" class="').concat(c.UI," ").concat(c.TOPBAR_BUTTON,'">').concat(S.DEVICE_TABLET,"</a>\n    "));a.on("click",function(n){n.preventDefault(),U.call(t,w.TABLET,a)});var i=$('\n        <a href="javascript:void(0);" title="'.concat(n.locale.viewOnLaptop,'" class="').concat(c.UI," ").concat(c.TOPBAR_BUTTON,'">').concat(S.DEVICE_LAPTOP,"</a>\n    "));i.on("click",function(n){n.preventDefault(),U.call(t,w.LAPTOP,i)});var r=$('\n        <a href="javascript:void(0);" title="'.concat(n.locale.viewOnDesktop,'" class="').concat(c.UI," ").concat(c.TOPBAR_BUTTON,'">').concat(S.DEVICE_DESKTOP,"</a>\n    "));r.on("click",function(n){n.preventDefault(),U.call(t,w.DESKTOP,r)}).trigger("click"),e.append(o),e.append(a),e.append(i),e.append(r)}.call(this),x.call(this)},H=function(t,n){var e=$(t.target),o=e.closest(n);return e.is(n)?e:o.length>0?o:null},j={ESC:27},Y=function(t,n){this.copyContent=n?null:t,this.cutContent=n?t:null,this.contentAreasWrapper.find(".".concat(c.UI_CUTTING)).removeClass(c.UI_CUTTING),this.iframeBody.removeClass("".concat(c.STATE_COPYING," ").concat(c.STATE_COPYING_COMPONENT," ").concat(c.STATE_COPYING_CONTAINER," ").concat(c.STATE_COPYING_SUB_CONTAINER)),t&&(n&&t.addClass(c.UI_CUTTING),this.iframeBody.addClass(c.STATE_COPYING),t.hasClass(c.COMPONENT)&&this.iframeBody.addClass(c.STATE_COPYING_COMPONENT),t.hasClass(c.CONTAINER)&&this.iframeBody.addClass(t.hasClass(c.SUB_CONTAINER)?c.STATE_COPYING_SUB_CONTAINER:c.STATE_COPYING_CONTAINER))},K=function(t){var n=N.call(this,t),e=KEditor.components[n];"function"==typeof e.destroy&&e.destroy.call(e,t,this),t.remove()},z=function(){(function(){var t=this,n=t.options,e=t.contentAreasWrapper;t.iframeBody.on("click",function(o){var a=H(o,".".concat(c.SIDEBAR)),i=H(o,".".concat(c.MODAL)),r=H(o,".".concat(c.CONTAINER));if(r){if(!r.hasClass(c.STATE_TOOLBAR_SHOWED)){e.find(".".concat(c.STATE_TOOLBAR_SHOWED)).removeClass(c.STATE_TOOLBAR_SHOWED),r.addClass(c.STATE_TOOLBAR_SHOWED);var l=r.parent();"function"==typeof n.onContainerSelected&&n.onContainerSelected.call(t,o,r,l)}}else a||i||e.find(".".concat(c.STATE_TOOLBAR_SHOWED)).removeClass(c.STATE_TOOLBAR_SHOWED);var s=H(o,".".concat(c.COMPONENT));if(s){if(!s.hasClass(c.STATE_TOOLBAR_SHOWED)){e.find(".".concat(c.COMPONENT,".").concat(c.STATE_TOOLBAR_SHOWED)).removeClass(c.STATE_TOOLBAR_SHOWED),s.addClass(c.STATE_TOOLBAR_SHOWED);var T=s.parent();"function"==typeof n.onComponentSelected&&n.onComponentSelected.call(t,o,s,T)}if(H(o,".".concat(c.TOOLBAR_COMPONENT)))return;s.find(".".concat(c.COMPONENT_SETTING)).length>0?(t.settingComponent=null,u.call(t,s)):p.call(t)}else a||e.find(".".concat(c.COMPONENT,".").concat(c.STATE_TOOLBAR_SHOWED)).removeClass(c.STATE_TOOLBAR_SHOWED)})}).call(this),function(){var t=this;t.iframeDoc.on("keydown",function(n){switch(n.keyCode){case j.ESC:Y.call(t,null)}})}.call(this),function(){var t=this;t.contentAreasWrapper.on("click",".".concat(c.PASTE_CONTENT),function(n){n.preventDefault(),r('Click on ".'.concat(c.PASTE_CONTENT,'"'));var e,o=$(this),a=!!t.copyContent,i=a?t.copyContent:t.cutContent,l=i.hasClass(c.COMPONENT),s=i.hasClass(c.CONTAINER),T=i.hasClass(c.SUB_CONTAINER);e=a?$(l?F.call(t,i):F.call(t,i,T)):i;var E=null,d=o.closest(".".concat(c.TOOLBAR_BOTTOM));d.length>0&&(d.hasClass(c.TOOLBAR_CONTAINER_BOTTOM)&&(r("Target is container"),E=o.closest(".".concat(c.CONTAINER))),d.hasClass(c.TOOLBAR_COMPONENT_BOTTOM)&&(r("Target is component"),E=o.closest(".".concat(c.COMPONENT))));var O=o.closest(".".concat(c.TOOLBAR_CONTAINER_CONTENT));O.length>0&&(r("Target is component"),E=O.siblings(".".concat(c.CONTAINER_CONTENT_INNER)));var N=o.closest(".".concat(c.TOOLBAR_CONTENT_AREA));N.length>0&&(E=N.siblings(".".concat(c.CONTENT_AREA_INNER))),E[d.length>0?v.AFTER:v.APPEND](e),Y.call(t,null),a&&(l&&P.call(t,e),s&&B.call(t,e))})}.call(this),function(){var t=this;t.contentAreasWrapper.on("click",".".concat(c.TOOLBAR_COMPONENT_BOTTOM," .").concat(c.ADD_CONTENT),function(n){n.preventDefault();var e=$(this),o=e.closest(".".concat(c.COMPONENT)),a=e.closest(".".concat(c.CONTAINER));g.call(t,o,v.AFTER,!0,!a.hasClass(c.SUB_CONTAINER))})}.call(this),function(){var t=this;t.contentAreasWrapper.on("click",".".concat(c.TOOLBAR_CONTAINER_BOTTOM," .").concat(c.ADD_CONTENT),function(n){n.preventDefault();var e=$(this).closest(".".concat(c.CONTAINER));g.call(t,e,v.AFTER,!0,!0)})}.call(this),function(){var t=this,n=t.options;t.contentAreasWrapper.on("click",".".concat(c.COMPONENT_DELETE),function(e){e.preventDefault();var o=$(this);if(confirm(n.locale.confirmDeleteComponentText)){var a=o.closest(".".concat(c.COMPONENT)),i=a.closest(".".concat(c.CONTAINER)),r=a.closest(".".concat(c.CONTENT_AREA));"function"==typeof n.onBeforeComponentDeleted&&n.onBeforeComponentDeleted.call(t,e,a,r),a.is(t.settingComponent)&&p.call(t),K.call(t,a),"function"==typeof n.onComponentDeleted&&n.onComponentDeleted.call(t,e,a,r),"function"==typeof n.onContainerChanged&&n.onContainerChanged.call(t,e,i,r),"function"==typeof n.onContentChanged&&n.onContentChanged.call(t,e,r)}})}.call(this),function(){var t=this,n=t.options;t.contentAreasWrapper.on("click",".".concat(c.COMPONENT_DUPLICATE),function(e){e.preventDefault();var o=$(this).closest(".".concat(c.COMPONENT)),a=o.closest(".".concat(c.CONTAINER)),i=a.parent(),r=$(F.call(t,o));o.after(r),P.call(t,r),"function"==typeof n.onComponentDuplicated&&n.onComponentDuplicated.call(t,o,r,i),"function"==typeof n.onContainerChanged&&n.onContainerChanged.call(t,e,a,i),"function"==typeof n.onContentChanged&&n.onContentChanged.call(t,e,i)})}.call(this),function(){var t=this;t.contentAreasWrapper.on("click",".".concat(c.COMPONENT_COPY),function(n){n.preventDefault();var e=$(this).closest(".".concat(c.COMPONENT));Y.call(t,e,!1)})}.call(this),function(){var t=this;t.contentAreasWrapper.on("click",".".concat(c.COMPONENT_CUT),function(n){n.preventDefault();var e=$(this).closest(".".concat(c.COMPONENT));Y.call(t,e,!0)})}.call(this),function(){var t=this,n=t.options;t.contentAreasWrapper.on("click",".".concat(c.COMPONENT_MOVE_DOWN),function(e){e.preventDefault();var o=$(this).closest(".".concat(c.COMPONENT)),a=o.next(".".concat(c.COMPONENT));if(a.length>0){var i=o.closest(".".concat(c.CONTAINER)),r=o.closest(".".concat(c.CONTENT_AREA));a.after(o),"function"==typeof n.onContainerChanged&&n.onContainerChanged.call(t,e,i,r),"function"==typeof n.onContentChanged&&n.onContentChanged.call(t,e,r)}})}.call(this),function(){var t=this,n=t.options;t.contentAreasWrapper.on("click",".".concat(c.COMPONENT_MOVE_UP),function(e){e.preventDefault();var o=$(this).closest(".".concat(c.COMPONENT)),a=o.prev(".".concat(c.COMPONENT));if(a.length>0){var i=o.closest(".".concat(c.CONTAINER)),r=o.closest(".".concat(c.CONTENT_AREA));a.before(o),"function"==typeof n.onContainerChanged&&n.onContainerChanged.call(t,e,i,r),"function"==typeof n.onContentChanged&&n.onContentChanged.call(t,e,r)}})}.call(this),function(){var t=this;t.contentAreasWrapper.on("click",".".concat(c.COMPONENT_SETTING),function(n){n.preventDefault();var e=$(this).closest(".".concat(c.COMPONENT));u.call(t,e)})}.call(this),function(){var t=this,n=t.options;t.contentAreasWrapper.on("click",".".concat(c.CONTAINER_DELETE),function(e){e.preventDefault();var o=$(this);if(confirm(n.locale.confirmDeleteContainerText)){var a=o.closest(".".concat(c.CONTAINER)),i=a.find(".".concat(c.COMPONENT)),r=a.closest(".".concat(c.CONTENT_AREA));"function"==typeof n.onBeforeContainerDeleted&&n.onBeforeContainerDeleted.call(t,e,a,r),t.settingComponent?t.settingComponent.closest(".".concat(c.CONTAINER)).is(a)&&p.call(t):a.is(t.settingContainer)&&p.call(t),i.length>0&&i.each(function(){K.call(t,$(this))}),a.remove(),"function"==typeof n.onContainerDeleted&&n.onContainerDeleted.call(t,e,a,r),"function"==typeof n.onContentChanged&&n.onContentChanged.call(t,e,r)}})}.call(this),function(){var t=this,n=t.options;t.contentAreasWrapper.on("click",".".concat(c.CONTAINER_DUPLICATE),function(e){e.preventDefault();var o=$(this),a=o.closest(".".concat(c.CONTAINER)),i=a.parent(),r=$(W.call(t,a,o.parent().hasClass(c.TOOLBAR_SUB_CONTAINER)));a.after(r),B.call(t,r),"function"==typeof n.onContainerDuplicated&&n.onContainerDuplicated.call(t,a,r,i),"function"==typeof n.onContentChanged&&n.onContentChanged.call(t,e,i)})}.call(this),function(){var t=this;t.contentAreasWrapper.on("click",".".concat(c.CONTAINER_COPY),function(n){n.preventDefault();var e=$(this).closest(".".concat(c.CONTAINER));Y.call(t,e,!1)})}.call(this),function(){var t=this;t.contentAreasWrapper.on("click",".".concat(c.CONTAINER_CUT),function(n){n.preventDefault();var e=$(this).closest(".".concat(c.CONTAINER));Y.call(t,e,!0)})}.call(this),function(){var t=this,n=t.options;t.contentAreasWrapper.on("click",".".concat(c.CONTAINER_MOVE_DOWN),function(e){e.preventDefault();var o=$(this).closest(".".concat(c.CONTAINER)),a=o.next(".".concat(c.CONTAINER));if(a.length>0){var i=o.parent();a.after(o),"function"==typeof n.onContentChanged&&n.onContentChanged.call(t,e,i)}})}.call(this),function(){var t=this,n=t.options;t.contentAreasWrapper.on("click",".".concat(c.CONTAINER_MOVE_UP),function(e){e.preventDefault();var o=$(this).closest(".".concat(c.CONTAINER)),a=o.prev(".".concat(c.CONTAINER));if(a.length>0){var i=o.parent();a.before(o),"function"==typeof n.onContentChanged&&n.onContentChanged.call(t,e,i)}})}.call(this),function(){var t=this;t.contentAreasWrapper.on("click",".".concat(c.CONTAINER_SETTING),function(n){n.preventDefault();var e=$(this).closest(".".concat(c.CONTAINER));u.call(t,e)})}.call(this)},Z=function(t,n){var e=this,o=e.options;t.addClass(c.CONTENT_AREA);var a=t.html(),i=$('<div class="'.concat(c.CONTENT_AREA_INNER,'"></div>')).html(a);if(t.html(i),"function"==typeof o.onBeforeInitContentArea&&o.onBeforeInitContentArea.call(e,t),!n){var r=$(m.call(e,R.CONTENT_AREA));t.append(r),r.children(".".concat(c.ADD_CONTENT)).on("click",function(t){t.preventDefault(),g.call(e,i,v.APPEND,!0,!0)})}i.sortable({handle:".".concat(c.TOOLBAR_CONTAINER,":not(.").concat(c.TOOLBAR_SUB_CONTAINER,") .").concat(c.CONTAINER_MOVE),items:"> .".concat(c.CONTAINER),helper:"clone",connectWith:".".concat(c.CONTENT_AREA),axis:"y",tolerance:"pointer",receive:function(n,a){var i=a.helper,r=a.item;i&&i.remove(),p.call(e),"function"==typeof o.onContentChanged&&o.onContentChanged.call(e,n,t),r.addClass(c.UI_DRAGGING)},start:function(t,n){n.item.addClass(c.UI_DRAGGING),n.item.addClass(c.STATE_TOOLBAR_SHOWED)},stop:function(t,n){n.helper&&n.helper.remove(),n.item.removeClass(c.UI_DRAGGING)}}),i.children().each(function(){B.call(e,$(this))}),"function"==typeof o.onInitContentArea&&o.onInitContentArea.call(e,t)},q=function(){var t=this.element,n=this.options,e=this.generateId(),o=this.wrapper=$('\n        <div id="'.concat(e,'" class="').concat(c.UI," ").concat(c.WRAPPER,'">\n            <div class="').concat(c.UI," ").concat(c.IFRAME_WRAPPER,'">\n                <div class="').concat(c.UI," ").concat(c.IFRAME_WIDTH_SWITCHER,'">\n                    <iframe class="').concat(c.UI," ").concat(c.IFRAME,'"></iframe>\n                </div>\n            </div>\n        </div>\n    '));t.addClass(c.UI_HIDDEN),t.after(o);var a=this.iframe=o.find(".".concat(c.IFRAME));this.iframeDoc=a.contents(),this.iframeDoc.get(0).open(),this.iframeDoc.get(0).close(),this.iframeWindow=a[0].contentWindow?a[0].contentWindow:a[0].contentDocument.defaultView,this.iframeHead=this.iframeDoc.find("head"),this.iframeBody=this.iframeDoc.find("body");var i="";$('[data-type="keditor-style"]').each(function(){var t=$(this),n=t.attr("id")||"",e=t.attr("href")||t.attr("data-href")||"";i+=e?'<link rel="stylesheet" type="text/css" href="'.concat(e,'" ').concat(n," />\n"):'<style type="text/css" '.concat(n,">").concat(t.html(),"</style>\n")}),$.isArray(n.contentStyles)&&$.each(n.contentStyles,function(t,n){var e=n.id||"";n.href?i+='<link rel="stylesheet" type="text/css" href="'.concat(n.href,'" ').concat(e," />\n"):i+='<style type="text/css" '.concat(e,">").concat(n.content,"</style>\n")}),this.iframeHead.append(i),this.contentAreasWrapper=$(n.contentAreasWrapper||"<div />"),this.contentAreasWrapper.attr("class","".concat(c.UI," ").concat(c.CONTENT_AREAS_WRAPPER)),this.contentAreasWrapper.html(t.val()||t.html()||""),this.contentAreasWrapper.attr("id")||this.contentAreasWrapper.attr("id",this.generateId()),this.iframeBody.append(this.contentAreasWrapper).addClass(c.IFRAME_BODY),"function"==typeof n.onInitIframe&&n.onInitIframe.call(this,this.iframe,this.iframeHead,this.iframeBody),function(){var t,n=this,e=n.options,o=n.contentAreasWrapper;if(e.contentAreasSelector&&(t=o.find(e.contentAreasSelector)),!t||0===t.length){var a=o.html();t=$("<div />").html(a),o.empty().append(t)}t.each(function(){var t=$(this);t.attr("id")||t.attr("id",l()),Z.call(n,t)})}.call(this),z.call(this)},Q=function(t,n){this.element=t,this.options=$.extend({},i,n),q.call(this),G.call(this),function(){var t=this,n=l(),e=t.sidebar=$('\n        <div class="'.concat(c.UI," ").concat(c.SIDEBAR,'" id="').concat(n,'">\n            <div class="').concat(c.UI," ").concat(c.SIDEBAR_HEADER,'">\n                <span class="').concat(c.UI," ").concat(c.SIDEBAR_TITLE,'"></span>\n                <a href="javascript:void(0);" class="').concat(c.UI," ").concat(c.SIDEBAR_CLOSER,'">&times;</a>\n            </div>\n            <div class="').concat(c.UI," ").concat(c.SIDEBAR_BODY,'"></div>\n        </div>\n    '));e.find(".".concat(c.SIDEBAR_CLOSER)).on("click",function(n){n.preventDefault(),p.call(t)}),t.sidebarTitle=e.find(".".concat(c.SIDEBAR_TITLE)),(t.sidebarBody=e.find(".".concat(c.SIDEBAR_BODY))).on("submit","form",function(t){return t.preventDefault(),!1}),e.appendTo(t.wrapper)}.call(this),k.call(this),function(){var t=this,n=t.options;if($.isPlainObject(n.extraSettings)){var e=function(e){var o=n.extraSettings[e],a="function"==typeof o.trigger?o.trigger.call(t,o):o.trigger;a.attr("data-extra-setting",e),a.on("click",function(n){n.preventDefault(),u.call(t,a)})};for(var o in n.extraSettings)e(o)}}.call(this),this.id=l(),KEditor.instances[this.id]=this,"function"==typeof this.options.onReady&&this.options.onReady.call(this)},X=function(){var t=this.element,n=this.id,e=V.call(this,!1);this.wrapper.remove(),t.is("textarea")?t.val(e):t.html(e),t.removeClass(c.UI_HIDDEN),t.data("keditor",null),delete KEditor.instances[n]};function J(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function tt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}if(!a.a.fn.sortable)throw new Error("[ KEditor ] $.fn.sortable does not exist. Please import $.fn.sortable into your document for continue using KEditor.");window.KEDITOR_DEBUG=!0;var nt=function(){function t(n,e){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),tt(this,"settingComponent",null),tt(this,"settingContainer",null),tt(this,"copyContent",null),tt(this,"cutContent",null),tt(this,"categoryComponent",[]),tt(this,"categoryContainer",[]),Q.apply(this,[n,e])}var n,e,o;return n=t,o=[{key:"log",value:function(){r.apply(void 0,arguments)}},{key:"error",value:function(t){throw new Error("[ KEditor ] ".concat(t))}},{key:"init",value:function(n,e){return new t(n,e)}},{key:"loadDynamicContent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.each(function(){y.call({options:{onDynamicContentLoaded:n.onSuccess,onDynamicContentError:n.onError}},a()(this))})}}],(e=[{key:"getSettingContainer",value:function(){return this.settingContainer}},{key:"getSettingComponent",value:function(){return this.settingComponent}},{key:"generateId",value:function(){return l()}},{key:"getDataAttributes",value:function(t,n,e){return s.apply(this,[t,n,e])}},{key:"initIframeCover",value:function(t,n){return function(t,n){n||(t.wrap('<div class="'.concat(c.IFRAME_COVER_WRAPPER_FAKE,'"></div>')),n=t.parent()),n.addClass("".concat(c.IFRAME_COVER_WRAPPER));var e=$('<div class="'.concat(c.IFRAME_COVER,'"></div>'));n.prepend(e),n.on("mouseleave",function(){n.removeClass("".concat(c.IFRAME_COVER_HIDDEN))}),e.on("dblclick",function(t){t.preventDefault(),n.addClass("".concat(c.IFRAME_COVER_HIDDEN))})}.apply(this,[t,n])}},{key:"initModal",value:function(t,n,e){return b.call(this,t,n,e)}},{key:"showModal",value:function(t){return D.call(this,t)}},{key:"hideModal",value:function(t){return A.call(this,t)}},{key:"getContent",value:function(t){return V.apply(this,[t])}},{key:"setContent",value:function(t,n){return function(t,n){var e=this.wrapper;n?n.jquery||(n=e.find(n)):n=e.children(".".concat(c.CONTENT_AREA)),0===n.length&&this.error("Content area does not exist!"),n.html(t),Z.call(n,!0)}.apply(this,[t,n])}},{key:"destroy",value:function(){return X.apply(this)}},{key:"addSnippet",value:function(t,n,e,o,a,i){return function(t,n,e,o,a,i){var r=O(T.call(this,t,n,e,o,a,i),2),l=r[0],s=r[1];this.categoryContainer=d(this.categoryContainer),this.categoryComponent=d(this.categoryComponent),this.modal.find(".".concat(c.SNIPPETS)).append(l),this.modal.find(".".concat(c.MODAL_BODY)).append(s);var N=O(E.call(this),2),f=N[0];N[1].find(".".concat(c.SNIPPETS_FILTER)).html(f).trigger("change")}.apply(this,[t,n,e,o,a,i])}}])&&J(n.prototype,e),o&&J(n,o),t}();tt(nt,"DEFAULTS",i),tt(nt,"debug",!1),tt(nt,"version","2.0.0"),tt(nt,"instances",{}),tt(nt,"components",{blank:{settingEnabled:!1}}),a.a.fn.keditor=function(t){var n=a()(this),e=n.data("keditor");return"string"!=typeof t?(e||(e=nt.init(n,t),n.data("keditor",e)),e):e&&e[t]&&"function"==typeof e[t]?e[t].apply(e,Array.prototype.slice.call(arguments,1)):void 0},window.KEditor=a.a.keditor=a.a.fn.keditor.constructor=nt}])});
//# sourceMappingURL=keditor.js.map